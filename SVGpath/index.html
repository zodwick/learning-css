<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <div class="line_container">


        <svg  viewBox="0 0 400 1032" fill="none"  preserveAspectRatio="xMidYMax meet">
            <path d="M4 0.5L3 155C3.00001 165.5 6.5 172 11 175.5C21.9731 184.035 29 183.5 34 179.5C39 175.5 44.8024 169.093 48 159.5C51 150.5 49.7727 147 40.5 138.5C34.5 133 20.5 134.5 11 145.5C1.74487 156.216 5 204 6.5 228.5V310.5C46.5 339 123.5 342.025 221 367M221 367C305.232 388.577 279 365 311.5 475C305.5 506 245.932 582.229 167.5 511.5C111.5 461 176 361 221 367ZM221 367C322.5 393 390 374 394 444C404.5 520 385.5 549.5 385.5 771.5C385.5 993.5 227 919 95.5 1030" stroke="#FF0000" stroke-width="5"/>
        </svg>

            

    </div>

    <section class="one">
        <h1 class="scroll" data-rate=".4" data-direction="vertical">
            Ocean Stuff
        </h1>
    </section>

    <section class="two">
        <h1 class="scroll" data-rate=".2" data-direction="vertical">
            Scroll Stuff
        </h1>
    </section>

    <script>
        let path = document.querySelector('path');
        let pathlength = path.getTotalLength();
        path.style.strokeDasharray = pathlength + ' ' + pathlength;
        path.style.strokeDashoffset = pathlength;

        window.addEventListener('scroll', function(){
            let scrollpercent = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight); 
            let draw = pathlength * scrollpercent;
            path.style.strokeDashoffset = pathlength - draw;

            let target = document.querySelector('.scroll');
            var index=0 , length = target.length;
            for(index; index < length; index++){
                let rate = target[index].getAttribute('data-rate');
                let direction = target[index].getAttribute('data-direction');
                let scroll = window.pageYOffset * rate;
                if(direction == 'vertical'){
                    target[index].style.transform = 'translateY(' + scroll + 'px)';
                }else{
                    target[index].style.transform = 'translateX(' + scroll + 'px)';
                }
            }
        })

    </script>
</body>
</html>